# 📝 Update: 2026-01-14 13:38 (JST)

## 1. 今回の変更内容
* **タスク**: 本番ビルド時のReferenceError修正
* **変更ファイル**:
  * `src/board.ts`: `updateUserListUI` 関数定義の位置を修正（`handleMessage` 内から外へ移動）。`switch` 文の各ケースをブロック化し、スコープを明確化。
  * `src/style.css`: ロビーUIのフレックスボックス設定修正（縦並び）。

## 2. 技術的詳細・コンテキスト
* **バグ原因**: 
  * `updateUserListUI` が `handleMessage` 内の `case 'opinion'` ブロックの中に関数宣言として記述されていた。Vite (Rollup) のビルド最適化において、この関数が巻き上げられる挙動が開発環境と異なり、未定義参照 (`ReferenceError`) を引き起こした。
  * 関数定義をモジュールトップレベル（関数の外）に移動することで解決。

## 3. 次のステップ・申し送り
* **検証**: ユーザーリストが表示されるか確認。
* **次のタスク**: リアクション詳細表示（ホバー機能）の実装へ。

---
# 📝 Update: 2026-01-14 13:25 (JST)
(省略)
